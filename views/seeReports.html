<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>See Reports</title>
  <link rel="stylesheet" href="/styles/seeReports.css">
  
</head>
<body>
  <div>
    
    <button id="generateReportBtn">Generate User Activity Report</button>

    <div id="downloadLink" style="display: none;">
      <p>Your report is ready. Click below to download</p>
      <a href="" id="downloadTxt" target="_blank">Download TXT</a>
    </div>

    
  </div>
  <script>
    document.getElementById("generateReportBtn").addEventListener("click", async () => {
        try {
            const response = await fetch('/admin/reports/user-activity/txt');
            const data = await response.json();
            if (response.ok) {
                document.getElementById("downloadLink").style.display = 'block';
                document.getElementById("downloadTxt").href = data.fileUrl;
            } else {
                alert(data.message || 'Error generating the report.');
            }
        } catch (err) {
            alert('Error generating the report.');
        }
    });
    </script>
</body>
</html>
